<!DOCTYPE html>

<html>
  <head>
    <title>Mini Message Board: Create a New Message</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <div class="main">
      <a class="card" href="/">
        <h1>Go back to homepage</h1>
      </a>

      <form class="card" method="POST" action="/new">
        <div class="form-group">
          <label for="username">Username:</label>
          <input required type="text" name="username" id="username" class="form-control" value="<%= form.username %>">
          <% if (locals.errors && errors.findIndex(e => e.param === 'username') !== -1) { %>
          <span class="error"><%= errors.find(e => e.param === 'username').msg %></span>
          <% } %>
        </div>
        <div class="form-group">
          <label for="title">Title:</label>
          <input required type="text" name="title" id="title" class="form-control" value="<%= form.title %>">
          <% if (locals.errors && errors.findIndex(e => e.param === 'title') !== -1) { %>
          <span class="error"><%= errors.find(e => e.param === 'title').msg %></span>
          <% } %>
        </div>
        <div class="form-group">
          <label for="message">Message:</label>
          <textarea required name="message" id="message" class="form-control"><%= form.message %></textarea>
          <% if (locals.errors && errors.findIndex(e => e.param === 'message') !== -1) { %>
          <span class="error"><%= errors.find(e => e.param === 'message').msg %></span>
          <% } %>
        </div>

        <hr />

        <button type="submit">Submit</button>
      </form>
    </div>
  </body>
</html>
